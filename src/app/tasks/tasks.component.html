<div class="flex justify-center">
  <div
    class="flex flex-col gap-4 items-center p-5 h-screen w-full md:w-3/4 lg:w-4/6"
  >
    <div class="flex font-bold w-full items-center">
      <span class="flex font-raleway md:text-lg">New Task</span>
    </div>
    <div class="flex items-center content-between w-full gap-2 md:gap-5 p-1">
      <Form [formGroup]="newFormGroup"  class="flex w-3/4 md:w-5/6 h-full">
        <input
          type="text"
          class="w-full border-2 border-solid rounded-full px-3 placeholder:font-light placeholder:text-sm py-1 outline-none"
          placeholder="Enter task"
          formControlName="newTaskInput"
        />
      </Form>
      <div class="flex w-1/4 md:w-1/6 h-full">
        <button
          class="w-full bg-[#aa72ff] h-full rounded-full text-white font-raleway font-semibold text-xs md:text-sm"
          (click)="addNewTask()"
        >
          Add Task
        </button>
      </div>
    </div>
    <div class="flex items-center w-full">
      <mat-tab-group
        mat-stretch-tabs="false"
        mat-align-tabs="start"
        class="flex w-full font-raleway"
        animationDuration="0ms"
      >
        <mat-tab label="All Tasks">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <div
              class="flex flex-col justify-between gap-4 p-2 border-solid border-2 border-slate-100 rounded-md shadow-md border-l-8"
              [ngClass]="{ 'border-l-green-500': task.completed === true }"
              [ngClass]="
                task.completed ? 'border-l-green-500' : 'border-l-yellow-400'
              "
              *ngFor="let task of tasks"
            >
              <div class="text-xs">{{ task.title }}</div>
              <div class="text-xs flex flex-row-reverse">
                <div
                  class="flex flex-row items-center"
                  *ngIf="task.completed"
                >
                  <span class="flex items-center justify-center"><mat-icon class="text-base text-green-500"> check_circle</mat-icon></span>
                  <span class="flex items-center text-green-500">Completed</span>
                </div>
                <div class="flex flex-row items-center" *ngIf="!task.completed">
                  <div (click)="markAsCompleted(task.id)" class="text-yellow-400 cursor-pointer">Mark as completed</div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>
        <mat-tab label="Active">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <div
              class="flex flex-col justify-between gap-4 p-2 border-solid border-2 border-slate-100 rounded-md shadow-md border-l-8"
              [ngClass]="{ 'border-l-green-500': task.completed === true }"
              [ngClass]="
                task.completed ? 'border-l-green-500' : 'border-l-yellow-400'
              "
              *ngFor="let task of activeTasks"
            >
              <div class="text-xs">{{ task.title }}</div>
              <div class="text-xs flex flex-row-reverse">
                <div
                  class="flex flex-row items-center"
                  *ngIf="task.completed"
                >
                  <span class="flex items-center justify-center"><mat-icon class="text-base text-green-500"> check_circle</mat-icon></span>
                  <span class="flex items-center text-green-500">Completed</span>
                </div>
                <div class="flex flex-row items-center" *ngIf="!task.completed">
                  <div (click)="markAsCompleted(task.id)" class="text-yellow-400 cursor-pointer">Mark as completed</div>
                </div>
              </div>
            </div>
          </div>
          
          </mat-tab
        >
        <mat-tab label="Completed">
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
            <div
              class="flex flex-col justify-between gap-4 p-2 border-solid border-2 border-slate-100 rounded-md shadow-md border-l-8"
              [ngClass]="{ 'border-l-green-500': task.completed === true }"
              [ngClass]="
                task.completed ? 'border-l-green-500' : 'border-l-yellow-400'
              "
              *ngFor="let task of completedTasks"
            >
              <div class="text-xs">{{ task.title }}</div>
              <div class="text-xs flex flex-row-reverse">
                <div
                  class="flex flex-row items-center"
                  *ngIf="task.completed"
                >
                  <span class="flex items-center justify-center"><mat-icon class="text-base text-green-500"> check_circle</mat-icon></span>
                  <span class="flex items-center text-green-500">Completed</span>
                </div>
                <div class="flex flex-row items-center" *ngIf="!task.completed">
                  <div (click)="markAsCompleted(task.id)" class="text-yellow-400 cursor-pointer">Mark as completed</div>
                </div>
              </div>
            </div>
          </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
